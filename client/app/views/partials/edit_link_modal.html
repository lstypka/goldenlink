<div id="editLinkModal" class="modal orange-modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header orange-gradient-background">
                <button type="button" class="close" data-dismiss="modal" ng-click="close()">&times;</button>
                <h5 class="modal-title title"><span translate="EDIT_LINK"/></h5>
            </div>
            <div class="modal-body">
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist" id="editLinkTabs">
                    <li role="presentation" class="active"><a ng-click="activeTab = 'edit'"
                                                              class="without_outline"
                                                              data-toggle="tab"><span translate="EDIT"/></a></li>
                    <li role="presentation"><a ng-click="activeTab = 'changeCategory'"
                                               class="without_outline"
                                               data-toggle="tab"><span translate="CHANGE_CATEGORY"/></a></li>
                    <li role="presentation"><a ng-click="activeTab = 'deleteLink'"
                                               class="without_outline"
                                               data-toggle="tab"><span translate="DELETE"/></a></li>
                    <li role="presentation"><a ng-click="activeTab = 'preview'"
                                               class="without_outline"
                                               data-toggle="tab"><span translate="OVERVIEW"/></a></li>
                </ul>


                <div class="tab-content" ng-show="activeTab === 'edit' || !activeTab">
                    <div class="row orange-form" style="margin: 5px;">
                        <form>
                            <div class="form-group">
                                <label class="label" translate="TITLE"></label>
                                <input type="text" class="form-control input" placeholder="{{'TITLE' | translate}}"
                                       ng-model="link.title">
                            </div>
                            <div class="form-group">
                                <label class="label" translate="LINK"></label>
                                <input type="text" class="form-control input" ng-model="link.link" placeholder="{{'LINK' | translate}}">
                            </div>
                            <div class="form-group">
                                <label class="label" translate="COMMENT"></label>
                                <textarea type="text" class="form-control input" ng-model="link.comment"></textarea>
                            </div>

                            <div class="form-group">
                                <label class="label" translate="EXPIRY_DATE"></label>

                                <p class="input-group">
                                    <input type="text"
                                           class="form-control input"
                                           ng-model="link.expiryDate"
                                           data-date-time-picker/>
                                    <span class="input-group-addon input"><i
                                            class="glyphicon glyphicon-calendar"></i></span>
                                </p>

                            </div>

                            <div class="form-group">
                                <label class="label" translate="TAGS"></label>

                                <div style="border-radius: 5px 5px 0px 0px; border: 1px solid #8a6d3b; padding-top: 0px; padding-bottom: 10px; margin-top: 10px;">
                                    <input type="text" class="form-control input" style="border: transparent;"
                                           ng-model="tag" ng-keypress="tagKeypress(link, $event)"
                                           placeholder="{{'TAG' | translate}}">

                                    <span class="tag label label-info" style="background-color: #8a6d3b; color: #fff;">
                                      <span>#{{tag}}</span>
                                      <a><i class="remove glyphicon glyphicon-remove-sign glyphicon-white"></i></a>
                                    </span>

                                    <span class="tag label label-info" style="background-color: #8a6d3b; color: #fff;"
                                          ng-repeat-start="tag in link.tags">
                                      <span>#{{tag.label}}</span>
                                      <a ng-click="deleteTag(link, tag);"><i
                                              class="remove glyphicon glyphicon-remove-sign glyphicon-white"></i></a>
                                    </span><span ng-repeat-end></span>
                                </div>
                            </div>


                            <span type="submit" class="btn btn-default button" ng-click="updateLink()"
                                  data-dismiss="modal"
                                  style="float: right; width: 100px;">
                                <span translate="EDIT"/>
                            </span>
                        </form>
                    </div>

                </div>

                <div class="tab-pane" ng-show="activeTab === 'changeCategory'">
                    <div style="margin-top: 15px;">
                        <ul class="categories_container container-fluid" style="max-height: 300px;">
                            <li ng-repeat="category in mainCategories"
                                ng-include="'views/partials/manage_category_element.html'">
                            </li>
                        </ul>
                        <button type="button" ng-disabled="!selectedCategory"
                                class="btn btn-default button button-full-width" ng-click="changeCategory()"
                                data-dismiss="modal"><span translate="ASSIGN_TO_CATEGORY"/> {{selectedCategory.label}}
                        </button>
                    </div>
                </div>
                <div class="tab-pane" ng-show="activeTab === 'deleteLink'">
                    <div class="row orange-form" style="margin: 5px;">
                        <div class="title" style="margin: 10px;">
                            <span translate="DELETING_LINK_MESSAGE" translate-values="{ linkTitle: '{{link.title}}'}"/>
                        </div>
                    </div>
                    <button type="button"
                            class="btn btn-default button button-full-width" style="margin-top: 20px;"
                            ng-click="deleteLink(link)"
                            data-dismiss="modal"><span translate="DELETE_LINK"/> '{{link.title}}'
                    </button>
                </div>
                <div class="tab-pane" ng-show="activeTab === 'preview'">
                    <div style="margin-top: 15px;">
                        <div ng-include="'views/partials/link_element.html'"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
